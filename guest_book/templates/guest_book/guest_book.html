{% extends 'guest_book/guest_base.html' %}
{% load static %}

{% block title %}
    Гостевая - {{ block.super }}
{% endblock %}

{% block content %}

    {% for post in page_object %}
        <div class="card m-2">
            <div class="card-header">
                <h6>{{ post.g_title}} - {{ post.g_date_create }}</h6>
            </div>
                <p class="card-text">
                    {% autoescape off %}
                         {{ post.g_text|linebreaksbr }}
                    {% endautoescape %}
                </p>

        </div>


    {% endfor %}

     {% if is_paginated %}


                <nav aria-label="..." >
                    <ul class="pagination justify-content-center">
                        <li class="page-item {% if not prev_url %} disabled {% endif %}">
                            <a class="page-link" href="{{ prev_url }}" tabindex="-1">Назад</a>
                        </li>


                        {% for n in page_object.paginator.page_range %}
                            {% if page_object.number == n %}
                                <li class="page-item active">
                                    <a class="page-link" href="?page={{ n }}">{{ n }} <span
                                            class="sr-only">(current)</span></a>
                                </li>

                            {% elif n > page_object.number|add:-3 and n < page_object.number|add:3 %}
                                <li class="page-item">
                                    <a class="page-link" href="?page={{ n }}">{{ n }}</a>
                                </li>
                            {% endif %}
                        {% endfor %}

                        <li class="page-item {% if not next_url %} disabled {% endif %}">
                            <a class="page-link" href="{{ next_url }}" tabindex="-1">Следующая</a>
                        </li>
                    </ul>
                </nav>

   {% endif %}




    <div class="card m-2">
        <div class="card-header">
            Ваш отзыв:
        </div>
        <div class="card-body ">
            <form class="post-form"  method="post">
                {% csrf_token %}
                    {{ form.as_p }}
                <input type="submit" value="Отправить"/>
            </form>
        </div>
    </div>





{% endblock %}